{"version":3,"sources":["utils/getSiteHostname.js","utils/getArticleLink.js","components/ListItem/styles.js","components/ListItem/index.js","components/List/styles.js","components/List/index.js","styles/palette.js","components/Loader/styles.js","components/Loader/index.js","components/App/styles.js","styles/mediaQueries.js","services/Api.js","services/hackerNewsApi.js","store/story/actions.js","store/story/selectors.js","components/App/index.js","store/app/actions.js","store/app/reducer.js","store/story/reducer.js","store/reducer.js","store/middleware.js","store/index.js","styles/globals.js","index.js"],"names":["getSiteHostname","siteUrl","hostname","includes","url","parse","split","HN_ROOT","HN_ITEM","HN_USER","getArticleLink","id","commentUrl","Item","styled","li","theme","border","Title","h3","text","Host","span","textSecondary","ExternalLink","a","Description","div","CommentLink","ListItem","by","kids","score","title","time","type","site","link","href","rel","target","date","Date","toISOString","length","ListWrapper","ul","backgroundSecondary","List","stories","map","story","colorsDark","background","blink","keyframes","Animation","Loader","Wrapper","h1","API_ROOT","process","URL","HEADERS","Accept","JSON_QUERY","client","baseURL","timeout","headers","auth","axios","create","interceptors","response","use","this","handleSuccess","handleError","error","Promise","reject","path","get","then","data","payload","post","put","patch","delete","hackerNewsApi","getTopStoryIds","console","log","getStory","getStoriesByPage","ids","page","limit","begin","end","getPageSlice","storyPromises","items","slice","getPageValues","all","NS","actionTypes","FETCH_STORY_IDS_REQUEST","FETCH_STORY_IDS_SUCCESS","FETCH_STORY_IDS_FAILURE","FETCH_STORIES_REQUEST","FETCH_STORIES_SUCCESS","FETCH_STORIES_FAILURE","action","actions","fetchStoryIds","dispatch","storyIds","fetchStories","catch","err","hasMoreStoriesSelector","createSelector","state","App","useSelector","isFetching","hasMoreStories","useDispatch","useEffect","dataLength","next","hasMore","loader","style","height","overflow","SET_THEME","app","rootReducer","combineReducers","middlewareList","push","thunk","middleware","compose","applyMiddleware","configureStore","initialState","createStore","reducer","GlobalStyles","createGlobalStyle","store","ReactDOM","render","document","getElementById","renderApp"],"mappings":"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","file":"static/js/main.d3cd387c.chunk.js","sourcesContent":["import url from 'url';\r\n\r\nconst getSiteHostname = siteUrl => {\r\n  let hostname = '';\r\n\r\n  if (siteUrl) {\r\n    if (!siteUrl.includes('//')) {\r\n      siteUrl = `http://${siteUrl}`;\r\n    }\r\n\r\n    hostname = url.parse(siteUrl).hostname;\r\n  }\r\n\r\n  if (hostname.includes('www.')) {\r\n    hostname = hostname.split('www.')[1];\r\n  }\r\n\r\n  return hostname;\r\n};\r\n\r\nexport default getSiteHostname;\r\n","const HN_ROOT = 'https://news.ycombinator.com';\r\nexport const HN_ITEM = `${HN_ROOT}/item?id=`;\r\nexport const HN_USER = `${HN_ROOT}/user?id=`;\r\n\r\nconst getArticleLink = ({ url, id }) => {\r\n    const commentUrl = `${HN_ITEM}${id}`;\r\n    const link = !!url ? url : commentUrl;\r\n    return link;\r\n};\r\n\r\nexport default getArticleLink;\r\n","import styled from 'styled-components';\r\n\r\nexport const Item = styled.li`\r\n  border-bottom: 1px solid ${({ theme }) => theme.border};\r\n  padding: 14px 24px;\r\n\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  color: ${({ theme }) => theme.text};\r\n  margin-top: 0;\r\n  margin-bottom: 6px;\r\n  font-weight: 400;\r\n  font-size: 16px;\r\n  letter-spacing: 0.4px;\r\n`;\r\n\r\nexport const Host = styled.span`\r\n  color: ${({ theme }) => theme.textSecondary};\r\n  font-size: 12px;\r\n`;\r\n\r\nexport const ExternalLink = styled.a`\r\n  color: ${({ theme }) => theme.text};\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  text-decoration: none;\r\n`;\r\n\r\nexport const Description = styled.div`\r\n  font-size: 14px;\r\n  color: ${({ theme }) => theme.textSecondary};\r\n`;\r\n\r\nexport const CommentLink = styled.a`\r\n  color: ${({ theme }) => theme.textSecondary};\r\n\r\n  &:visited {\r\n    color: ${({ theme }) => theme.textSecondary};\r\n  }\r\n`;","import React from \"react\";\r\nimport TimeAgo from \"react-timeago\";\r\nimport getSiteHostname from \"../../utils/getSiteHostname\";\r\nimport getArticleLink, { HN_USER, HN_ITEM } from \"../../utils/getArticleLink\";\r\n\r\nimport {\r\n  Item,\r\n  Title,\r\n  Host,\r\n  ExternalLink,\r\n  Description,\r\n  CommentLink,\r\n} from \"./styles\";\r\n\r\nconst ListItem = ({ by, kids = [], score, url, title, id, type, time }) => {\r\n  const site = getSiteHostname(url) || \"news.ycombinator.com\";\r\n  const link = getArticleLink({ url, id });\r\n  const commentUrl = `${HN_ITEM}${id}`;\r\n\r\n  return (\r\n    <Item>\r\n      <ExternalLink\r\n        href={link}\r\n        rel=\"nofollow noreferrer noopener\"\r\n        target=\"_blank\"\r\n      >\r\n        <Title>\r\n          {title} <Host>({site})</Host>\r\n        </Title>\r\n      </ExternalLink>\r\n      <Description>\r\n        {score} points by{\" \"}\r\n        <CommentLink\r\n          href={`${HN_USER}${by}`}\r\n          rel=\"nofollow noreferrer noopener\"\r\n          target=\"_blank\"\r\n        >\r\n          {by}\r\n        </CommentLink>{\" \"}\r\n        <TimeAgo date={new Date(time * 1000).toISOString()} />\r\n        {\" | \"}\r\n        <CommentLink\r\n          href={commentUrl}\r\n          rel=\"nofollow noreferrer noopener\"\r\n          target=\"_blank\"\r\n        >\r\n          {kids.length} Comments\r\n        </CommentLink>\r\n      </Description>\r\n    </Item>\r\n  );\r\n};\r\n\r\nexport default ListItem;\r\n","import styled from 'styled-components';\r\n\r\nexport const ListWrapper = styled.ul`\r\n  background-color: ${({ theme }) => theme.backgroundSecondary};\r\n  border-radius: 4px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;","import React from \"react\";\r\nimport ListItem from \"../ListItem\";\r\nimport { ListWrapper } from \"./styles\";\r\n\r\nconst List = ({stories}) => (\r\n  <ListWrapper>\r\n      {stories.map(story => (\r\n        <ListItem key={story.id} {...story} />\r\n      ))}\r\n  </ListWrapper>\r\n);\r\n\r\nexport default List;\r\n","export const colorsDark = {\r\n    background: '#272727',\r\n    backgroundSecondary: '#393C3E',\r\n    text: '#bfbebe',\r\n    textSecondary: '#848886',\r\n    border: '#272727',\r\n  };\r\n  \r\n  export const colorsLight = {\r\n    background: '#EAEAEA',\r\n    backgroundSecondary: '#F8F8F8',\r\n    text: '#848886',\r\n    textSecondary: '#aaaaaa',\r\n    border: '#EAEAEA',\r\n  };\r\n  ","import styled, { keyframes } from 'styled-components';\r\n\r\nconst blink = keyframes`\r\n  /**\r\n  * At the start of the animation the dot\r\n  * has an opacity of .2\r\n  */\r\n  0% {\r\n    opacity: .2;\r\n  }\r\n  /**\r\n  * At 20% the dot is fully visible and\r\n  * then fades out slowly\r\n  */\r\n  20% {\r\n    opacity: 1;\r\n  }\r\n  /**\r\n  * Until it reaches an opacity of .2 and\r\n  * the animation can start again\r\n  */\r\n  100% {\r\n    opacity: .2;\r\n  }\r\n`;\r\n\r\nexport const Animation = styled.div`\r\n  text-align: center;\r\n\r\n  span {\r\n    color: ${({ theme }) => theme.textSecondary};\r\n    display: inline-block;\r\n    margin-left: 4px;\r\n    margin-right: 4px;\r\n    font-size: 80px;\r\n    line-height: 0.1;\r\n\r\n    /**\r\n    * Use the blink animation, which is defined above\r\n    */\r\n    animation-name: ${blink};\r\n    /**\r\n    * The total time of animation\r\n    */\r\n    animation-duration: 1s;\r\n    /**\r\n    * It will repeat itself forever\r\n    */\r\n    animation-iteration-count: infinite;\r\n    /**\r\n    * This makes sure that the starting style (opacity: .2)\r\n    * of the animation is applied before the animation starts.\r\n    * Otherwise we would see a short flash or would have\r\n    * to set the default styling of the dots to the same\r\n    * as the animation. Same applies for the ending styles.\r\n    */\r\n    animation-fill-mode: both;\r\n  }\r\n\r\n  span:nth-child(2) {\r\n    animation-delay: 0.2s;\r\n  }\r\n  span:nth-child(3) {\r\n    animation-delay: 0.4s;\r\n  }\r\n`;","import React from 'react'\r\nimport { Animation } from './styles';\r\n\r\nconst Loader = () => ( \r\n    <Animation>\r\n        <span>.</span>\r\n        <span>.</span>\r\n        <span>.</span>\r\n    </Animation>\r\n );\r\n\r\n \r\nexport default Loader;","import styled from 'styled-components';\r\nimport { tablet } from '../../styles/mediaQueries';\r\n\r\nexport const Wrapper = styled.div`\r\n  width: 85%;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  padding-bottom: 200px;\r\n\r\n  ${tablet} {\r\n    width: 96%;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  color: ${({ theme }) => theme.textSecondary};\r\n  font-size: 20px;\r\n  font-weight: 300;\r\n  margin-top: 24px;\r\n  margin-bottom: 26px;\r\n`;\r\n","export const mobile = '@media only screen and (max-width: 480px)'\r\nexport const tablet = '@media only screen and (max-width: 768px)'\r\nexport const monitor = '@media only screen and (max-width: 1400px)'","import axios from 'axios';\r\n\r\n// Default API will be your root\r\nconst API_ROOT = process.env.URL || 'http://localhost:3000/';\r\nconst TIMEOUT = 20000;\r\nconst HEADERS = {\r\n  'Content-Type': 'application/json',\r\n  Accept: 'application/json',\r\n};\r\n\r\nclass ApiService {\r\n  constructor({ baseURL = API_ROOT, timeout = TIMEOUT, headers = HEADERS, auth }) {\r\n    const client = axios.create({\r\n      baseURL,\r\n      timeout,\r\n      headers,\r\n      auth,\r\n    });\r\n\r\n    client.interceptors.response.use(this.handleSuccess, this.handleError);\r\n    this.client = client;\r\n  }\r\n\r\n  handleSuccess(response) {\r\n    return response;\r\n  }\r\n\r\n  handleError(error) {\r\n    return Promise.reject(error);\r\n  }\r\n\r\n  get(path) {\r\n    return this.client.get(path).then(response => response.data);\r\n  }\r\n\r\n  post(path, payload) {\r\n    return this.client.post(path, payload).then(response => response.data);\r\n  }\r\n\r\n  put(path, payload) {\r\n    return this.client.put(path, payload).then(response => response.data);\r\n  }\r\n\r\n  patch(path, payload) {\r\n    return this.client.patch(path, payload).then(response => response.data);\r\n  }\r\n\r\n  delete(path) {\r\n    return this.client.delete(path).then(response => response.data);\r\n  }\r\n}\r\n\r\nexport default ApiService;\r\n","import ApiService from './Api';\r\n\r\nconst JSON_QUERY = '.json?print=pretty';\r\nconst BASE_URL = 'https://hacker-news.firebaseio.com/v0';\r\nconst client = new ApiService({ baseURL: BASE_URL });\r\n\r\nconst hackerNewsApi = {};\r\n\r\nconst PAGE_LIMIT = 20;\r\nconst getPageSlice = (limit, page = 0) => ({ begin: page * limit, end: (page + 1) * limit });\r\nconst getPageValues = ({ begin, end, items }) => items.slice(begin, end);\r\n\r\nhackerNewsApi.getTopStoryIds = () => client.get(`/topstories${JSON_QUERY}`);\r\nconsole.log(\"top\", hackerNewsApi.getTopStoryIds)\r\nhackerNewsApi.getStory = id => client.get(`/item/${id}${JSON_QUERY}`);\r\nhackerNewsApi.getStoriesByPage = (ids, page) => {\r\n  const { begin, end } = getPageSlice(PAGE_LIMIT, page);\r\n  const activeIds = getPageValues({ begin, end, items: ids });\r\n  const storyPromises = activeIds.map(id => hackerNewsApi.getStory(id));\r\n  return Promise.all(storyPromises);\r\n};\r\n\r\nexport default hackerNewsApi;\r\n","import hackerNewsApi from \"../../services/hackerNewsApi\";\r\n\r\nconst NS = \"@hnReader/story\";\r\n\r\nexport const actionTypes = {\r\n  FETCH_STORY_IDS_REQUEST: `${NS}/FETCH_STORY_IDS_REQUEST`,\r\n  FETCH_STORY_IDS_SUCCESS: `${NS}/FETCH_STORY_IDS_SUCCESS`,\r\n  FETCH_STORY_IDS_FAILURE: `${NS}/FETCH_STORY_IDS_FAILURE`,\r\n  FETCH_STORIES_REQUEST: `${NS}/FETCH_STORIES_REQUEST`,\r\n  FETCH_STORIES_SUCCESS: `${NS}/FETCH_STORIES_SUCCESS`,\r\n  FETCH_STORIES_FAILURE: `${NS}/FETCH_STORIES_FAILURE`,\r\n};\r\n\r\nconst action = (type, payload) => ({ type, payload });\r\n\r\nconst actions = {\r\n  fetchStoryIds: (payload = {}) => {\r\n      console.log(\"FETCH\")\r\n    return (dispatch) => {\r\n      dispatch(action(actionTypes.FETCH_STORY_IDS_REQUEST, payload));\r\n\r\n      return hackerNewsApi\r\n        .getTopStoryIds()\r\n        .then((storyIds) => {\r\n          dispatch(action(actionTypes.FETCH_STORY_IDS_SUCCESS, { storyIds }));\r\n          dispatch(actions.fetchStories({ storyIds, page: 0 }));\r\n          return storyIds;\r\n        })\r\n        .catch((err) =>\r\n          dispatch(action(actionTypes.FETCH_STORY_IDS_FAILURE, err))\r\n        );\r\n    };\r\n  },\r\n  fetchStories: (payload = {}) => {\r\n    return (dispatch) => {\r\n      const { storyIds, page } = payload;\r\n\r\n      dispatch(action(actionTypes.FETCH_STORIES_REQUEST, payload));\r\n\r\n      return hackerNewsApi\r\n        .getStoriesByPage(storyIds, page)\r\n        .then((stories) =>\r\n          dispatch(action(actionTypes.FETCH_STORIES_SUCCESS, { stories }))\r\n        )\r\n        .catch((err) =>\r\n          dispatch(action(actionTypes.FETCH_STORIES_SUCCESS, err))\r\n        );\r\n    };\r\n  },\r\n};\r\n\r\nexport default actions;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst storyIdsSelector = state => state.story.storyIds;\r\nconst storiesSelector = state => state.story.stories;\r\n\r\nexport const hasMoreStoriesSelector = createSelector(\r\n    storyIdsSelector,\r\n    storiesSelector,\r\n    (storyIds, stories) => storyIds.length > stories.length\r\n)\r\n","import React, { useEffect } from \"react\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport List from \"../List\";\r\nimport { colorsDark } from \"../../styles/palette\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Loader from \"../Loader\";\r\n\r\nimport { Wrapper, Title } from \"./styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport actions from \"../../store/story/actions\";\r\nimport { hasMoreStoriesSelector } from \"../../store/story/selectors\";\r\n\r\nfunction App() {\r\n  const stories = useSelector((state) => state.story.stories);\r\n  const page = useSelector((state) => state.story.page);\r\n  const storyIds = useSelector((state) => state.story.storyIds);\r\n  const isFetching = useSelector((state) => state.story.isFetching);\r\n  const hasMoreStories = useSelector((state) => hasMoreStoriesSelector(state));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.fetchStoryIds());\r\n  }, [dispatch]);\r\n\r\n  const fetchStories = () => {\r\n    if (!isFetching) {\r\n      dispatch(actions.fetchStories({storyIds, page}));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={colorsDark}>\r\n      <div>\r\n        <Wrapper>\r\n          <Title>Hacker News Reader</Title>\r\n          <InfiniteScroll\r\n              dataLength={stories.length}\r\n              next={fetchStories}\r\n              hasMore={hasMoreStories}\r\n              loader={<Loader />}\r\n              style={{\r\n                  height: '100%',\r\n                  overflow: 'visible'\r\n              }}\r\n          >\r\n            <List stories={stories} />\r\n          </InfiniteScroll>\r\n        </Wrapper>\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const NS = '@hnReader/app';\r\n\r\nexport const actionTypes = {\r\n  SET_THEME: `${NS}/SET_THEME`\r\n};\r\n\r\nconst actions = {\r\n  setTheme: (payload = {}) => ({ type: actionTypes.SET_THEME, payload })\r\n};\r\n\r\nexport default actions;","import { actionTypes } from './actions';\r\n\r\nconst getInitialState = () => ({\r\n  theme: 'dark'\r\n});\r\n\r\nconst app = (state = getInitialState(), { type, payload }) => {\r\n  console.log('payload: ', payload);\r\n  switch (type) {\r\n    case actionTypes.SET_THEME:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default app;","import { actionTypes } from \"./actions\";\r\n\r\nconst getInitialState = () => ({\r\n    storyIds: [],\r\n    stories: [],\r\n    page: 0,\r\n    isFetching: false,\r\n    error: ''\r\n});\r\n\r\nconst story = (state = getInitialState(), {type, payload}) => {\r\n    switch(type) {\r\n        case actionTypes.FETCH_STORY_IDS_REQUEST:\r\n        case actionTypes.FETCH_STORIES_REQUEST:\r\n            return {\r\n                ...state,\r\n                isFetching: true\r\n            };\r\n        case actionTypes.FETCH_STORY_IDS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...payload\r\n            };\r\n        case actionTypes.FETCH_STORIES_SUCCESS:\r\n            return {\r\n                ...state,\r\n                stories: [...state.stories, ...payload.stories],\r\n                page: state.page + 1,\r\n                isFetching: false\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default story;","import { combineReducers } from \"redux\";\r\nimport app from \"./app/reducer\";\r\nimport story from \"./story/reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    story,\r\n    app,\r\n});\r\n\r\nexport default rootReducer;","import { applyMiddleware, compose } from \"redux\";\r\nimport { createLogger } from \"redux-logger\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst isProd = process.env.NODE_ENV === 'production';\r\nconst middlewareList = [];\r\n\r\nmiddlewareList.push(thunk);\r\nif (!isProd)\r\n{\r\n    middlewareList.push(createLogger());\r\n}\r\n\r\nconst middleware = compose(applyMiddleware(...middlewareList));\r\n\r\nexport default middleware;","import { createStore } from \"redux\";\r\nimport reducer from \"./reducer\";\r\nimport middleware from \"./middleware\";\r\n\r\nconst configureStore = initialState => {\r\n    const store = createStore(reducer, initialState, middleware);\r\n    return store;\r\n}\r\n\r\nexport default configureStore;","import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n    * {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    html, body {\r\n      font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\r\n      width: 100vw;\r\n      overflow-x: hidden;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n\r\n    ul {\r\n      list-style: none;\r\n      padding: 0;\r\n    }\r\n\r\n    a {\r\n      text-decoration: none;\r\n\r\n      &:visited {\r\n        color: inherit;\r\n      }\r\n    }\r\n  `;\r\n\r\nexport default GlobalStyles;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./components/App\";\r\nimport configureStore from \"./store\";\r\nimport GlobalStyles from \"./styles/globals\";\r\n\r\nconst renderApp = () => {\r\n  const store = configureStore({});\r\n\r\n  if (process.env.NODE_ENV !== \"production\") {\r\n    console.log(\"Initial state =>\");\r\n    console.log(store.getState());\r\n  }\r\n\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <div>\r\n        <GlobalStyles />\r\n        <App />\r\n      </div>\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n  );\r\n};\r\n\r\nrenderApp();\r\n"],"sourceRoot":""}