(this["webpackJsonphn-clone"]=this["webpackJsonphn-clone"]||[]).push([[0],{72:function(n,t,e){"use strict";e.r(t);var r=e(1),o=e(0),i=e(10),c=e.n(i),a=e(7),s=e(2),u=e(5),d=e(26),l=e.n(d),h=e(27),f=e.n(h),S=function(n){var t="";return n&&(n.includes("//")||(n="http://".concat(n)),t=f.a.parse(n).hostname),t.includes("www.")&&(t=t.split("www.")[1]),t},b="https://news.ycombinator.com",p="".concat(b,"/item?id="),O="".concat(b,"/user?id="),j=function(n){var t=n.url,e=n.id,r="".concat(p).concat(e);return t||r},g=e(3);function E(){var n=Object(g.a)(["\n  color: ",";\n\n  &:visited {\n    color: ",";\n  }\n"]);return E=function(){return n},n}function v(){var n=Object(g.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return v=function(){return n},n}function y(){var n=Object(g.a)(["\n  color: ",";\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n"]);return y=function(){return n},n}function m(){var n=Object(g.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return m=function(){return n},n}function T(){var n=Object(g.a)(["\n  color: ",";\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n"]);return T=function(){return n},n}function _(){var n=Object(g.a)(["\n  border-bottom: 1px solid ",";\n  padding: 14px 24px;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return _=function(){return n},n}var x=s.c.li(_(),(function(n){return n.theme.border})),C=s.c.h3(T(),(function(n){return n.theme.text})),R=s.c.span(m(),(function(n){return n.theme.textSecondary})),I=s.c.a(y(),(function(n){return n.theme.text})),w=s.c.div(v(),(function(n){return n.theme.textSecondary})),F=s.c.a(E(),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.textSecondary})),H=function(n){var t=n.by,e=n.kids,o=void 0===e?[]:e,i=n.score,c=n.url,a=n.title,s=n.id,u=(n.type,n.time),d=S(c)||"news.ycombinator.com",h=j({url:c,id:s}),f="".concat(p).concat(s);return Object(r.jsxs)(x,{children:[Object(r.jsx)(I,{href:h,rel:"nofollow noreferrer noopener",target:"_blank",children:Object(r.jsxs)(C,{children:[a," ",Object(r.jsxs)(R,{children:["(",d,")"]})]})}),Object(r.jsxs)(w,{children:[i," points by"," ",Object(r.jsx)(F,{href:"".concat(O).concat(t),rel:"nofollow noreferrer noopener",target:"_blank",children:t})," ",Object(r.jsx)(l.a,{date:new Date(1e3*u).toISOString()})," | ",Object(r.jsxs)(F,{href:f,rel:"nofollow noreferrer noopener",target:"_blank",children:[o.length," Comments"]})]})]})};function U(){var n=Object(g.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return U=function(){return n},n}var k=s.c.ul(U(),(function(n){return n.theme.backgroundSecondary})),D=function(n){var t=n.stories;return Object(r.jsx)(k,{children:t.map((function(n){return Object(r.jsx)(H,Object(u.a)({},n),n.id)}))})},L={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"},A=e(31);function Y(){var n=Object(g.a)(["\n  text-align: center;\n\n  span {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n\n    /**\n    * Use the blink animation, which is defined above\n    */\n    animation-name: ",";\n    /**\n    * The total time of animation\n    */\n    animation-duration: 1s;\n    /**\n    * It will repeat itself forever\n    */\n    animation-iteration-count: infinite;\n    /**\n    * This makes sure that the starting style (opacity: .2)\n    * of the animation is applied before the animation starts.\n    * Otherwise we would see a short flash or would have\n    * to set the default styling of the dots to the same\n    * as the animation. Same applies for the ending styles.\n    */\n    animation-fill-mode: both;\n  }\n\n  span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n  span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n"]);return Y=function(){return n},n}function Q(){var n=Object(g.a)(["\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n"]);return Q=function(){return n},n}var P=Object(s.d)(Q()),z=s.c.div(Y(),(function(n){return n.theme.textSecondary}),P),B=function(){return Object(r.jsxs)(z,{children:[Object(r.jsx)("span",{children:"."}),Object(r.jsx)("span",{children:"."}),Object(r.jsx)("span",{children:"."})]})};function M(){var n=Object(g.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 300;\n  margin-top: 24px;\n  margin-bottom: 26px;\n"]);return M=function(){return n},n}function N(){var n=Object(g.a)(["\n  width: 85%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n\n  "," {\n    width: 96%;\n  }\n"]);return N=function(){return n},n}var K=s.c.div(N(),"@media only screen and (max-width: 768px)"),W=s.c.h1(M(),(function(n){return n.theme.textSecondary})),J=e(32),V=e(33),q=e(34),G=e.n(q),X=Object({NODE_ENV:"production",PUBLIC_URL:"/hacker-news-redux",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL||"http://localhost:3000/",Z={"Content-Type":"application/json",Accept:"application/json"},$=".json?print=pretty",nn=new(function(){function n(t){var e=t.baseURL,r=void 0===e?X:e,o=t.timeout,i=void 0===o?2e4:o,c=t.headers,a=void 0===c?Z:c,s=t.auth;Object(J.a)(this,n);var u=G.a.create({baseURL:r,timeout:i,headers:a,auth:s});u.interceptors.response.use(this.handleSuccess,this.handleError),this.client=u}return Object(V.a)(n,[{key:"handleSuccess",value:function(n){return n}},{key:"handleError",value:function(n){return Promise.reject(n)}},{key:"get",value:function(n){return this.client.get(n).then((function(n){return n.data}))}},{key:"post",value:function(n,t){return this.client.post(n,t).then((function(n){return n.data}))}},{key:"put",value:function(n,t){return this.client.put(n,t).then((function(n){return n.data}))}},{key:"patch",value:function(n,t){return this.client.patch(n,t).then((function(n){return n.data}))}},{key:"delete",value:function(n){return this.client.delete(n).then((function(n){return n.data}))}}]),n}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),tn={};tn.getTopStoryIds=function(){return nn.get("/topstories".concat($))},console.log("top",tn.getTopStoryIds),tn.getStory=function(n){return nn.get("/item/".concat(n).concat($))},tn.getStoriesByPage=function(n,t){var e=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:t*n,end:(t+1)*n}}(20,t),r=function(n){var t=n.begin,e=n.end;return n.items.slice(t,e)}({begin:e.begin,end:e.end,items:n}).map((function(n){return tn.getStory(n)}));return Promise.all(r)};var en=tn,rn="@hnReader/story",on={FETCH_STORY_IDS_REQUEST:"".concat(rn,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(rn,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(rn,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_REQUEST:"".concat(rn,"/FETCH_STORIES_REQUEST"),FETCH_STORIES_SUCCESS:"".concat(rn,"/FETCH_STORIES_SUCCESS"),FETCH_STORIES_FAILURE:"".concat(rn,"/FETCH_STORIES_FAILURE")},cn=function(n,t){return{type:n,payload:t}},an={fetchStoryIds:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log("FETCH"),function(t){return t(cn(on.FETCH_STORY_IDS_REQUEST,n)),en.getTopStoryIds().then((function(n){return t(cn(on.FETCH_STORY_IDS_SUCCESS,{storyIds:n})),t(an.fetchStories({storyIds:n,page:0})),n})).catch((function(n){return t(cn(on.FETCH_STORY_IDS_FAILURE,n))}))}},fetchStories:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var e=n.storyIds,r=n.page;return t(cn(on.FETCH_STORIES_REQUEST,n)),en.getStoriesByPage(e,r).then((function(n){return t(cn(on.FETCH_STORIES_SUCCESS,{stories:n}))})).catch((function(n){return t(cn(on.FETCH_STORIES_SUCCESS,n))}))}}},sn=an,un=e(35),dn=Object(un.a)((function(n){return n.story.storyIds}),(function(n){return n.story.stories}),(function(n,t){return n.length>t.length}));var ln=function(){var n=Object(a.c)((function(n){return n.story.stories})),t=Object(a.c)((function(n){return n.story.page})),e=Object(a.c)((function(n){return n.story.storyIds})),i=Object(a.c)((function(n){return n.story.isFetching})),c=Object(a.c)((function(n){return dn(n)})),u=Object(a.b)();return Object(o.useEffect)((function(){u(sn.fetchStoryIds())}),[u]),Object(r.jsx)(s.a,{theme:L,children:Object(r.jsx)("div",{children:Object(r.jsxs)(K,{children:[Object(r.jsx)(W,{children:"Hacker News Reader"}),Object(r.jsx)(A.a,{dataLength:n.length,next:function(){i||u(sn.fetchStories({storyIds:e,page:t}))},hasMore:c,loader:Object(r.jsx)(B,{}),style:{height:"100%",overflow:"visible"},children:Object(r.jsx)(D,{stories:n})})]})})})},hn=e(6),fn={SET_THEME:"".concat("@hnReader/app","/SET_THEME")},Sn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"dark"},t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(console.log("payload: ",r),e){case fn.SET_THEME:return Object(u.a)(Object(u.a)({},n),r);default:return n}},bn=e(14),pn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case on.FETCH_STORY_IDS_REQUEST:case on.FETCH_STORIES_REQUEST:return Object(u.a)(Object(u.a)({},n),{},{isFetching:!0});case on.FETCH_STORY_IDS_SUCCESS:return Object(u.a)(Object(u.a)({},n),r);case on.FETCH_STORIES_SUCCESS:return Object(u.a)(Object(u.a)({},n),{},{stories:[].concat(Object(bn.a)(n.stories),Object(bn.a)(r.stories)),page:n.page+1,isFetching:!1});default:return n}},On=Object(hn.c)({story:pn,app:Sn}),jn=(e(36),e(37)),gn=[];gn.push(jn.a);var En=Object(hn.d)(hn.a.apply(void 0,gn)),vn=function(n){return Object(hn.e)(On,n,En)};function yn(){var n=Object(g.a)(["\n    * {\n      box-sizing: border-box;\n    }\n\n    html, body {\n      font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n      width: 100vw;\n      overflow-x: hidden;\n      margin: 0;\n      padding: 0;\n    }\n\n    ul {\n      list-style: none;\n      padding: 0;\n    }\n\n    a {\n      text-decoration: none;\n\n      &:visited {\n        color: inherit;\n      }\n    }\n  "]);return yn=function(){return n},n}var mn=Object(s.b)(yn());!function(){var n=vn({});c.a.render(Object(r.jsx)(a.a,{store:n,children:Object(r.jsxs)("div",{children:[Object(r.jsx)(mn,{}),Object(r.jsx)(ln,{})]})}),document.getElementById("root"))}()}},[[72,1,2]]]);
//# sourceMappingURL=main.d3cd387c.chunk.js.map